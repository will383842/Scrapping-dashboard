# ============================================================================
# SCRAPER PRO - CONFIGURATION TEMPLATE (CORRIGÉ)
# Version: 2.0 Production-Ready
# COPIEZ ce fichier vers .env ET MODIFIEZ les valeurs
# ============================================================================

# ==========================================================================
# BASE DE DONNÉES POSTGRESQL
# ==========================================================================
POSTGRES_DB=scraper_pro
POSTGRES_USER=scraper_admin
POSTGRES_PASSWORD=CHANGEZ_MOI_MOT_DE_PASSE_FORT_123456
POSTGRES_HOST=db
POSTGRES_PORT=5432

# ==========================================================================
# DASHBOARD STREAMLIT  
# ==========================================================================
DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=CHANGEZ_MOI_DASHBOARD_PASSWORD_123

# Ports
DASHBOARD_PORT=8501
HTTP_PORT=80
HTTPS_PORT=443

# ==========================================================================
# SCRAPY CONFIGURATION
# ==========================================================================
SCRAPY_CONCURRENT_REQUESTS=8
SCRAPY_DOWNLOAD_DELAY=1.0
SCRAPY_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# ==========================================================================
# PLAYWRIGHT
# ==========================================================================
PLAYWRIGHT_BROWSER_TYPE=chromium
PLAYWRIGHT_DEFAULT_NAVIGATION_TIMEOUT=30000

# ==========================================================================
# PERFORMANCE ET LIMITES
# ==========================================================================
JS_PAGES_LIMIT=1000
MAX_PAGES_PER_DOMAIN=25
WORKER_TIMEOUT=1800
MAX_RETRIES=3

# ==========================================================================
# WORKER ET SCHEDULER
# ==========================================================================
POLL_INTERVAL_SEC=5
RETRY_BACKOFF_BASE=2.0
JOB_TIMEOUT_SEC=1800
HEALTH_CHECK_INTERVAL=60

# ==========================================================================
# SYSTÈME
# ==========================================================================
TZ=Europe/Paris
LOG_LEVEL=INFO
ENVIRONMENT=production
SECRET_KEY=CHANGEZ_MOI_32_CARACTERES_MINIMUM_ABCD1234567890

# ==========================================================================
# MONITORING (optionnel)
# ==========================================================================
ENABLE_MONITORING=false
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=CHANGEZ_MOI_GRAFANA_PASSWORD

# ==========================================================================
# BACKUP
# ==========================================================================
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=daily

# ==========================================================================
# CONNEXIONS DB - Paramètres pour éviter "connection already closed"
# ==========================================================================
POSTGRES_CONNECT_TIMEOUT=30
POSTGRES_STATEMENT_TIMEOUT=300000
CONNECTION_POOL_SIZE=10
MAX_CONNECTIONS=50

# ==========================================================================
# EXEMPLE D'UTILISATION:
# ==========================================================================
# 1. cp .env.example .env
# 2. Éditez .env avec vos vraies valeurs
# 3. docker compose up -d
# ============================================================================
# ==========================================================================
# REDIS - Coordination & Cache
# ==========================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=CHANGEZ_MOI_REDIS_PASSWORD
REDIS_USE_SSL=false
REDIS_NAMESPACE=scraperpro
