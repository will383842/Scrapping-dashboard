# =========================
# CORE: PostgreSQL
# =========================
POSTGRES_DB=scraper_pro
POSTGRES_USER=scraper_admin
POSTGRES_PASSWORD=Str0ng_P0stgres_Pass_wQ8p7qK2Zt
POSTGRES_HOST=db
POSTGRES_PORT=5432

# =========================
# CORE: Redis
# =========================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=Str0ng_Redis_Pass_bJ3m2Vq9Lf
REDIS_USE_SSL=false
REDIS_NAMESPACE=scraperpro

# =========================
# Dashboard (Streamlit)
# =========================
DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=Str0ng_Dashboard_Pass_6Tnq9mP2rS
DASHBOARD_PORT=8501

# Nginx ports (hôte)
HTTP_PORT=80
HTTPS_PORT=443

# =========================
# Scrapy
# =========================
SCRAPY_CONCURRENT_REQUESTS=8
SCRAPY_DOWNLOAD_DELAY=1.0
SCRAPY_USER_AGENT="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"

# =========================
# Playwright
# =========================
PLAYWRIGHT_BROWSER_TYPE=chromium
PLAYWRIGHT_DEFAULT_NAVIGATION_TIMEOUT=30000
PLAYWRIGHT_LAUNCH_OPTIONS="{\"headless\": true}"

# =========================
# Performance & limites
# =========================
JS_PAGES_LIMIT=1000
MAX_PAGES_PER_DOMAIN=25
WORKER_TIMEOUT=1800
MAX_RETRIES=3

# =========================
# Worker & Scheduler (utilisés par scheduler.py)
# =========================
POLL_INTERVAL_SEC=5
RETRY_BACKOFF_BASE=2.0
JOB_TIMEOUT_SEC=1800
HEALTH_CHECK_INTERVAL=60
MAX_CONCURRENT_JOBS=3
JOB_TIMEOUT_MINUTES=60
RETRY_DELAY_MINUTES=30

# =========================
# Proxy management
# =========================
PROXY_ROTATION_DEFAULT_MODE=per_spider
PROXY_STICKY_TTL_DEFAULT=180
PROXY_RPS_DATACENTER_DEFAULT=2.0
PROXY_RPS_RESIDENTIAL_DEFAULT=0.5
PROXY_COOLDOWN_INITIAL=30
PROXY_CIRCUIT_BREAKER_THRESHOLD=5
PROXY_CONFIG_PATH=config/proxy_config.json

# =========================
# Système
# =========================
TZ=Europe/Paris
LOG_LEVEL=INFO
ENVIRONMENT=production
SECRET_KEY=Str0ng_Secret_Key_32c_min_0yV3xQ7nT1kPe8f4

# =========================
# Monitoring (optionnel)
# =========================
ENABLE_MONITORING=false
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=Str0ng_Grafana_Pass_5Qp8nX1zRt

# =========================
# Backups & maintenance
# =========================
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=daily

# =========================
# Connexions DB (timeouts & pool)
# =========================
POSTGRES_CONNECT_TIMEOUT=30
POSTGRES_STATEMENT_TIMEOUT=300000
CONNECTION_POOL_SIZE=10
MAX_CONNECTIONS=50
DB_POOL_MIN=1
DB_POOL_MAX=10

# =========================
# Cache & anti-doublons
# =========================
URL_CACHE_TTL_SECONDS=3600
CONTENT_HASH_ENABLED=true
REVISIT_DELAY_HOURS=168
CHECKPOINT_INTERVAL_PAGES=100

# =========================
# Circuit breakers & rate limiting
# =========================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DOMAIN_DEFAULT=2.0
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURES=5
CIRCUIT_BREAKER_COOLDOWN_SECONDS=600
ANTI_DUPLICATE_ENABLED=true
CHECKPOINT_ENABLED=true

# =========================
# Sécurité & SSL
# =========================
SSL_CERT_PATH=./ssl/fullchain.pem
SSL_KEY_PATH=./ssl/privkey.pem
FORCE_HTTPS=false
SESSION_TIMEOUT=3600
MAX_LOGIN_ATTEMPTS=5
AUDIT_LOGS_ENABLED=true

# =========================
# Email alerts (optionnel)
# =========================
ENABLE_EMAIL_ALERTS=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USER=alerts@company.com
SMTP_PASSWORD=app_password_here
ALERT_RECIPIENTS=admin@company.com,devops@company.com

# =========================
# Dashboard avancé
# =========================
ENABLE_PROXY_MANAGEMENT=true
ENABLE_ADVANCED_STATS=true
ENABLE_REAL_TIME_MONITORING=true
DASHBOARD_KEYWORDS=
